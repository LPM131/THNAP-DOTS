/* chat-ui.css - cylinder overlay + chat screen styles (mobile-friendly) */

/* full-screen root (ensure index.html has #chat-root) */
#chat-root,
#dots-text-overlay {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 99999;
  -webkit-font-smoothing: antialiased;
  -webkit-tap-highlight-color: transparent;
}

/* overlay/backdrop */
.dots-text-overlay { display:flex; align-items:center; justify-content:center; pointer-events:auto; opacity:0; transition:opacity 220ms ease; }
.dots-text-overlay[aria-hidden="false"] { opacity: 1; }
.dots-text-overlay .overlay-backdrop {
  position:absolute; inset:0; background: rgba(0,0,0,0.28); backdrop-filter: blur(6px);
}

/* content shell */
.dots-text-overlay .overlay-content {
  position: relative;
  width: 96vw;
  max-width: 920px;
  height: 92vh;
  max-height: 820px;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 30px 80px rgba(0,0,0,0.35);
  overflow: hidden;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding: 14px;
}

/* close button */
.overlay-close { position:absolute; left:12px; top:12px; background:transparent; border:0; font-size:18px; cursor:pointer; z-index:12; }

/* cylinder */
.cylinder-shell { flex:1; width:100%; display:flex; align-items:center; justify-content:center; perspective:1400px; }
.cylinder { width: 100%; max-width: 640px; height: 68vh; max-height: 560px; transform-style: preserve-3d; position:relative; }

/* thread tile */
.cylinder .thread {
  position: absolute;
  left: 50%;
  top: 50%;
  margin-left: -46%;
  width: 92%;
  height: 68px;
  margin-top: -34px;
  background: rgba(255,255,255,0.98);
  border-radius: 12px;
  display:flex;
  align-items:center;
  padding: 10px 12px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
  transform-style: preserve-3d;
  transition: transform 150ms linear, opacity 150ms linear;
  cursor:pointer;
  -webkit-tap-highlight-color: transparent;
}

.thread .thread-dot {
  width: 52px; height:52px; border-radius:50%; margin-right:12px; flex-shrink:0; box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

.thread .thread-meta { display:flex; flex-direction:column; min-width:0; }
.thread .thread-name { font-weight:700; color:#111; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.thread .thread-preview { color:#666; font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* active */
.thread.active { transform: scale(1.04) translateZ(30px); box-shadow: 0 16px 36px rgba(0,0,0,0.12); }

/* footer CTA */
.cylinder-footer { width:100%; display:flex; justify-content:center; padding:8px 0 6px 0; }
.cta { background:#3fa7ff; color:#fff; border:0; padding:10px 16px; border-radius:10px; font-weight:600; cursor:pointer; }

/* chat screen wrapper */
.chat-screen-wrapper {
  position:absolute;
  inset:0;
  z-index: 20;
  display:flex;
  flex-direction:column;
  background:#fff;
  animation: chatDrop 420ms cubic-bezier(.2,.9,.2,1);
}

@keyframes chatDrop {
  0% { transform: translateY(-14%) scale(.995); opacity:0 }
  60% { transform: translateY(6%) scale(1.005); opacity:1 }
  100% { transform: translateY(0) scale(1); opacity:1 }
}

/* header */
.chat-header { height:72px; display:flex; align-items:center; padding:12px 14px; border-bottom:1px solid rgba(0,0,0,0.06); }
.header-avatar { width:48px; height:48px; border-radius:50%; margin-right:12px; flex-shrink:0; box-shadow: 0 8px 24px rgba(0,0,0,0.08); }
.header-title { flex:1; font-weight:700; color:#111; }
.chat-back { background:transparent; border:0; cursor:pointer; font-weight:600; }

/* messages area */
.chat-messages { flex:1; overflow:auto; padding:16px; display:flex; flex-direction:column; gap:10px; -webkit-overflow-scrolling: touch; }

/* bubble */
.chat-msg { display:flex; }
.chat-msg.other { justify-content:flex-start; }
.chat-msg.you { justify-content:flex-end; }
.bubble { display:inline-block; padding:10px 14px; border-radius:18px; max-width:80%; line-height:1.35; font-size:15px; white-space:pre-wrap; word-break:break-word; }
.chat-msg.other .bubble { background:#f2f2f3; color:#111; border-top-left-radius:8px; }
.chat-msg.you .bubble { background:#3FA7FF; color:#fff; border-top-right-radius:8px; }

/* input */
.chat-input-area { display:flex; padding:10px; border-top:1px solid rgba(0,0,0,0.06); }
.chat-input-area input { flex:1; padding:12px 14px; border-radius:20px; border:1px solid rgba(0,0,0,0.06); margin-right:8px; }
.chat-input-area button { background:#3FA7FF; color:#fff; border:0; padding:10px 14px; border-radius:12px; cursor:pointer; }

/* mobile adjustments */
@media (max-width:720px) {
  .dots-text-overlay .overlay-content { width: 98vw; height: 98vh; border-radius: 10px; padding:10px; }
  .cylinder { height: 56vh; }
  .thread { height:64px; }
  .chat-header { height:68px; padding:10px; }
